# 1장

## 기본 개념
### 스트림

- 스트림이란 한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 모임
- 스트림 API는 파이프라인을 만드는 데 필요한 많은 메서드를 제공한다.
- 스트림API의 핵심은 기존에는 한 번에 한 항목을 처리했지만 이제 자바8에서는 우리가 하려는 작업을 고수준으로 추상화해서 일련의 스트림으로 만들어 처리 할 수 있다는 것이다.

- 스트림 파이프라인을 이용해서 입력 부분을 여러 CPU코어에 쉽게 할당할 수 있다는 부가적인 이득도 얻을 수 있다.
- 스레드라는 복잡한 작업을 사용하지 않으면서도 공짜로 병렬성을 얻을 수 있다.


### 동작 파라미터화로 메서드에 코드 전달하기

- 자바 8에서는 메서드를 다른 메서드의 인수로 넘겨주는 기능을 제공한다. 이러한 기능을 동작 파라미터화라고 부른다.

- 스트림  API는 연산의 동작을 파라미터화할 수 있는 코드를 전달한다는 사상에 기초되어있다.


### 병렬성과 공유 가변 데이터
- 자바8 에서는 병렬성을 공짜로 얻을 수 있다.
- 스트름 메서드로 전달하는 코드의 동작 방식을 조금 바꿔야한다는 단점이 있다.

- 스트림 메서드로 전달하는 코드는 다른 코드와 동시에 실행하더라도 안전하게 실행 될 수 있어야 한다.
    - 보통 다른 코드와 동시에 실행하더라도 안전하게 실행할 수 있는 코드를 만들려면 공유된 가변 데이터에 접근하지 않아야 한다.



### 일급객체

- 변수나 데이터에 할당할 수 있어야 한다.
- 객체의 인자로 넘길 수 있어야 한다.
- 객체의 리턴 값으로 리턴할 수 있어야 한다.


- 자바 8이전에는 메서드는 일급 시민이 아니였지만, 지금은 일급 시민이다.


### 프레디케이트

- 수학에서는 인수로 값을 받아 true나 false를 반환하는 함수를 프레디케이트라고 한다.

```java
public static boolean isHeavyApple(Apple apple){
    return apple.getWeight() > 150;
}

public static boolean isGreenApple(Apple apple){
    return GREEN.equals(apple.getColor());
}

public interface Predicate<T>{
    boolean test(T t);
}

static List<Apple> filterApples(List<Apple> inventory, Predicate<Apple> p){
    List<Apple> result = new ArrayList<>();

    for (Apple apple:inventory){
        if(p.test(apple)){
            result.add(apple);
        }
    }
    return apple;
}
```