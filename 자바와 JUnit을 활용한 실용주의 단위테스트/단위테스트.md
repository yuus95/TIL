# 단위테스트

## 단위테스트를 하는 이유 
- 어떤 기능을 막 코딩했고 그것이 예상한 대로 작동하는지 알고싶습니다.

- 시스템에 작성한 변경 사항을 문서화하여 자신과 다른 사람들이 나중에 이해하도록 하고 싶습니다.

- 코드를 변경하고 그것으로 변경된 사항이 기존 동작을 깨뜨리지 않았는지 
확인하고 싶습니다.

- 시스템의 현재 동작을 이해하고 싶다.

- 서드 파티 코드가 더 이상 기대한 대로 동작하지 않을 떄 를 알고자 합니다.


## 동작 테스트 VS 메서드  테스트

-   테스트를 작성할 떄는 클래스 동작에 집중해야 하며 개별 메서드를
테스트한다고 생각하면 안됩니다.

- EX) 은행 ATM 

```
deposit() - 입금
withdraw() - 인출
getBalance() - 잔액확인

- makeSingleDeposit (x) :deposit 메소드는 단지 객체의 필드만 리턴하므로 의미가 없다.

-> 
1.테스트 대상이 될만한 흥미로운 동작에는 입금과 출금 같은 다른 동작이 
먼저 나와야 한다. 

2. 단위 테스트를 작성할 때는 먼저 전체적인 시각에서 시작해야 한다. 개별 메서드를 테스트하는 것이 아니라 클래스의 종합적인 동작을 테스트해야한다.
- makeSingWithDrawal :  
- makeMultipleWithdrawls : 

```


## AAA테스트

- 준비(Arange) 
    - 테스트 코드를 실행하기전에 시스템이 적절한 상태에 있는지 확인
    - 객체들을 생성하거나 이것과 의사소통 하거나 다른 API를 호출하는 것등의 역할을 한다.
    - 드물지만 시스템이 우리가 필요한 상태로 있다면 준비 상태를 생략

- 실행(Act)
    - 테스트 코드를 실행합니다. 보통은 단일 메서드를 호출

- 단언(Assert)
    - 실행한 코드가 기대한 대로 동작하느지 확인
    - 실행한 코드의 반환값 혹은 그 외 필요한 객체들의 새로운 상태를 검사합니다.
    


## 일관성 있는 이름으로 테스트 문서화

- 어떤 맥락에서 일련의 행동을 호출했을 때 어떤 결과가 나오는지를 명시해야한다
- 주요 목표는 테스트코드를 다른사람에게 의미 있게 만드는 것입니다.

ex)
```
makeSingleWithdrawal
    -> withdrwalReducesBalanceByWithdrawnAmount

attemptToWithdrawTooMuch
    -> withdrawlaofMoreThanAvailableFundsGeneratesError

multipleDeposits
    -> multipleDepositsIncreaseBalanceBySumOfDeposits
```

- 양식 
    - doingSomeOperationGeneratesSomeResult(어떤 동작을 하면 어떤 결과가 나온다)

    - someResultOccursUnderSomeCondition(어떤 결과는 어떤 조건에서 발생한다.)

